@import url('https://fonts.googleapis.com/css2?family=Manrope:wght@200..800&display=swap');

:root {
  --sprite-image: url("https://assets.codepen.io/36869/burger2.webp");
}

.splash-screen {
  position: fixed;
  top: 0;
  left: 0;
  width: 100vw;
  height: 100vh;
  background-color: #242424;
  color: rgba(255, 255, 255, 0.87);
  font-family: "Manrope", serif;
  font-optical-sizing: auto;
  line-height: 1.5;
  font-weight: 400;
  z-index: 9999;
  display: flex;
  align-items: center;
  justify-content: center;
  padding: 1rem;
  box-sizing: border-box;
  transition: opacity 0.8s ease-out, transform 0.8s ease-out;
}

.click-hint {
  position: absolute;
  bottom: 80px;
  left: 50%;
  transform: translateX(-50%);
  color: rgba(255, 255, 255, 0.4);
  font-size: 12px;
  font-weight: 300;
  letter-spacing: 1px;
  text-transform: uppercase;
  opacity: 0.7;
  animation: subtle-pulse 2s ease-in-out infinite;
  pointer-events: none;
}

@keyframes subtle-pulse {
  0%, 100% { opacity: 0.4; }
  50% { opacity: 0.7; }
}

.splash-screen.fade-out {
  opacity: 0;
  transform: scale(0.95);
}

.sprite {
  margin: 0 auto;
}

input[type="checkbox"] {
  display: none;
}

/* Frame start position */
@property --sprite-fs {
  syntax: "<integer>";
  initial-value: 0;
  inherits: false
}

.sprite {
  /* animation direction */
  --sprite-ad: normal;
  /* animation fill mode */
  --sprite-af: forwards;
  /* animation play state */
  --sprite-ap: running;
  /* animation iteration count */
  --sprite-ai: 1;
  /* animation timing function */
  --sprite-at: linear;
  /* animation frame rate */
  --sprite-fr: 120;

  /* sprite columns */
  --sprite-c: 5;
  /* sprite image height */
  --sprite-h: 2160;
  /* sprite image width */
  --sprite-w: 1950;
  /* Frame frames */
  --sprite-f: 30;
  /* Frame end position */
  --sprite-fe: calc(var(--sprite-f) - 1);
  /* Frame rate */
  --sprite-as: calc(var(--sprite-f) / var(--sprite-fr) * 1s);

  --sprite-th: 128;
  --sprite-r: round(up, calc(var(--sprite-f) / var(--sprite-c)), 1);
  --sprite-sh: calc(var(--sprite-h) / var(--sprite-r));
  --sprite-ar: calc(var(--sprite-th) / var(--sprite-sh));
  --sprite-uh: calc(var(--sprite-h) * var(--sprite-ar));
  --sprite-uw: calc(var(--sprite-w) * var(--sprite-ar));
  --sprite-tw: calc(var(--sprite-uw) / var(--sprite-c));

  display: block;
  position: relative;
  top: 50px;
  translate: 0 -50px;
  transform-style: preserve-3d;
  transition: top .5s ease;
  cursor: pointer;
  height: calc(1px * var(--sprite-th));
  width: calc(1px * var(--sprite-tw));
  background-image: var(--sprite-image);
  transform-origin: center center;
  background-size: calc(1px * var(--sprite-uw)) calc(1px * var(--sprite-uh));

  /* Y position, round to check next ROW */
  --row: calc(round(down, calc(calc(var(--sprite-tw) * var(--sprite-fs)) / var(--sprite-uw)), 1) * var(--sprite-th));
  /* X position, mod to check COLUMN */
  --col: mod(calc(var(--sprite-tw) * var(--sprite-fs)), var(--sprite-uw));
  background-position: calc(-1px * var(--col)) calc(-1px * var(--row));

  /* animation duration based on frame rate */
  animation: to-start var(--sprite-as) var(--sprite-at) 0s var(--sprite-ai) var(--sprite-ad) var(--sprite-af) var(--sprite-ap);
}

.sprite:has(+ input:checked) {
  /* animation direction */
  --sprite-ad: alternate;
  /* animation fill mode */
  --sprite-af: none;
  /* animation iteration count */
  --sprite-ai: infinite;
  /* animation frame rate */
  --sprite-fr: 30;

  --sprite-fe: calc(var(--sprite-f) - 1);
  --sprite-as: calc(var(--sprite-f) / var(--sprite-fr) * 1s);

  top: 0;
  /* Y position, round to check next ROW */
  --row: calc(round(down, calc(calc(var(--sprite-tw) * var(--sprite-fs)) / var(--sprite-uw)), 1) * var(--sprite-th));
  /* X position, mod to check COLUMN */
  --col: mod(calc(var(--sprite-tw) * var(--sprite-fs)), var(--sprite-uw));

  animation: frame var(--sprite-as) var(--sprite-at) 0s var(--sprite-ai) var(--sprite-ad) var(--sprite-af) var(--sprite-ap);
}

.sprite:has(+ input:checked):before {
  bottom: calc(-25% - 50px);
  scale: .75;
  filter: contrast(0) brightness(0.15) blur(5px);
  animation: frame var(--sprite-as) var(--sprite-at) 0s var(--sprite-ai) var(--sprite-ad) var(--sprite-af) var(--sprite-ap);
}

.sprite:has(+ input:checked):before {
  bottom: calc(-25% - 50px);
  scale: .75;
  filter: contrast(0) brightness(0.15) blur(5px);
  animation: frame var(--sprite-as) var(--sprite-at) 0s var(--sprite-ai) var(--sprite-ad) var(--sprite-af) var(--sprite-ap);
}

.sprite:hover {
  top: 0;
  /* animation duration based on frame rate */
  animation: frame var(--sprite-as) var(--sprite-at) 0s var(--sprite-ai) var(--sprite-ad) var(--sprite-af) var(--sprite-ap);
}
.sprite:hover:before {
  bottom: calc(-25% - 50px);
  scale: .75;
  filter: contrast(0) brightness(0.15) blur(5px);
  animation: frame var(--sprite-as) var(--sprite-at) 0s var(--sprite-ai) var(--sprite-ad) var(--sprite-af) var(--sprite-ap);
}

.sprite:before {
  content: "";
  display: block;
  position: relative;
  --sprite-th: 128;
  height: calc(1px * var(--sprite-th));
  width: calc(1px * var(--sprite-tw));
  background-image: var(--sprite-image);
  background-size: calc(1px * var(--sprite-uw)) calc(1px * var(--sprite-uh));
  background-position: calc(-1px * var(--col)) calc(-1px * var(--row));
  animation: to-start var(--sprite-as) var(--sprite-at) 0s var(--sprite-ai) var(--sprite-ad) var(--sprite-af) var(--sprite-ap);

  filter: contrast(0) brightness(0) blur(5px);
  transform: rotateX(45deg) translateZ(-3em);
  bottom: 0%;
  z-index: -1;
  pointer-events: none;
  transition: bottom .5s ease, scale .5s ease, filter .5s ease;
}

@keyframes to-start {
  from {
    --sprite-fs: var(--sprite-fe);
  }
  to {
    --sprite-fs: 0;
  }
}

@keyframes frame {
  to {
    --sprite-fs: var(--sprite-fe);
  }
}

@media (prefers-reduced-motion) {
  * {
    animation: none;
  }
}